<!DOCTYPE HTML>
<html>
	<head>
		<title>Our Findings</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="assets/css/main.css" />
		
		<!-- CSS and scripts for maps -->
		<link href="http://cdn.leafletjs.com/leaflet/v1.0.0-beta.2/leaflet.css" rel="stylesheet" type="text/css" />
		<script src="http://cdn.leafletjs.com/leaflet/v1.0.0-beta.2/leaflet.js"></script>
		<script src="assets/js/animation/L.Polyline.SnakeAnim.js"></script>
		<script src="assets/js/Leaflet.Sleep.js"></script>
		
		<!-- Scripts for Graph -->
		<script src="https://d3js.org/d3.v4.min.js"></script>
		
		<!-- More CSS for Map -->
		<style>
			body { margin:0; padding:0; }
			.map { width:100%; height: 415px; } 
			.axis .domain { display: none;}
			.axis text {font: 12px sans-serif; }
			#route37panel { max-height: 415px; }
		</style>
		
	</head>
	<body class="subpage">

			<!-- Header -->
			<header id="header">
				<div class="inner">
					<a href="index.html" class="logo"><strong>BELFAST</strong> MOBILITY PROJECT</a>
					<nav id="nav">
						<a href="index.html">Home</a>
						<a href="findings.html">Our Findings</a>
						<a href="researchers.html">For Researchers</a>
						<a href="maps.html">Interactive Maps</a>
						<a href="about-us.html">About Us</a>
					</nav>
					<a href="#navPanel" class="navPanelToggle"><span class="fa fa-bars"></span></a>
				</div>
			</header>

			<!-- Content -->
			<section id="main" class="wrapper">
				<div class="inner">
				
					<header class="align-center">
						<h2>Our Findings</h2>
					</header>					
					
					<div class="2u$ 12u$(medium)">
						<ul class="alt">
							<li>Jump to:</li>
							<li><a href="#divided-landscapes">Divided Landscapes</a></li>
							<li><a href="#narrated-landscapes"> Narrated Landscapes</a></li>
							<li><a href="#shared-landscapes"> Shared Landscapes</a></li>
						</ul>
					</div>
					
					<section id="divided-landscapes">
					
						<h2>Divided Landscapes</h2>
					
						<!-- Intro text and Graph -->
						<div class="row 200%">
					
							<p>The BMP used a unique, mixed methods approach to describing and explaining patterns of activity space segregation in the historically divided city of Belfast, including (1) GPS tracking allied with GIS methods of data capture, analysis and representation; (2) walking interviews, and (3) a large scale questionnaire survey.  In this section, some of our key findings are summarised under the headings Divided Landscapes, Narrated Landscapes and Shared Landscapes.</p>
					
							<div class="6u 12u$(medium)">							
								<p>Most research on urban segregation has focused on global patterns of residential division captured at a single moment in time, often using government census data about where people live in cities. The Belfast Mobility Project examined how segregation may arise through the patterning of everyday movements and use of activity spaces beyond the home and over time. Based on analysis of over 20 million GPS tracking data points, the GIS image presented opposite visualises how members of Catholic and Protestant communities in North Belfast tend to use different pathways and frequent different kinds of activity spaces. Indeed, as Figure 1 below illustrates, residents spend most of their time in spaces located in their own communities and little time in ‘outgroup’ areas.</p>
							</div>
						
							<div class="6u$ 12u$(medium)">

								<!-- Graph -->
								<p class="caption" id="graphcaption">Percentage of time spent within or moving through different types of spaces</p>
								<svg width="500" height="300" id="graph"></svg>
								<script>

								// set up the SVG
								var svg = d3.select("svg"),
									margin = {top: 20, right: 20, bottom: 20, left: 40},
									width = +svg.attr("width") - margin.left - margin.right,
									height = +svg.attr("height") - margin.top - margin.bottom,
									g = svg.append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");
							
								// set the width and spacing of the bars
								var x = d3.scaleBand()
									.rangeRound([0, width/1.6	])
									.paddingInner(0.1)
									.align(0.1);

								// set the height of the bars
								var y = d3.scaleLinear()
									.rangeRound([height, 0]);

								// sort the color scale
								var z = d3.scaleOrdinal()
									.range(['#b3cde3', '#fbb4ae', '#ccebc5']);

								// load the data
								d3.csv("gisdata/ingroup-outgroup.csv", function(d, i, columns) {
									for (i = 1, t = 0; i < columns.length; ++i) t += d[columns[i]] = +d[columns[i]];
									d.total = t;
									return d;
								}, 
							
								// callback function to draw the graph
								function(error, data) {
								
									// error handling...
									if (error) throw error;

									// get the keys from the data objects
									var keys = data.columns.slice(1);
	
									// set values for the axes (group on x, 0-100% on y)
									x.domain(data.map(function(d) { return d.Group; }));
									y.domain([0, 100]);
									z.domain(keys);

									// draw the stacked rectangles
									g.append("g")
									.selectAll("g")
									.data(d3.stack().keys(keys)(data))
									.enter().append("g")
										.attr("fill", function(d) { return z(d.key); })
									.selectAll("rect")
									.data(function(d) { return d; })
									.enter().append("rect")
										.attr("x", function(d) { return x(d.data.Group); })
										.attr("y", function(d) { return y(d[1]); })
										.attr("height", function(d) { return y(d[0]) - y(d[1]); })
										.attr("width", x.bandwidth());

									//
									g.append("g")
									  .attr("class", "axis")
									  .attr("transform", "translate(0," + height + ")")
									  .call(d3.axisBottom(x));
								
									//
									g.append("g")
									  .attr("class", "axis")
									  .call(d3.axisLeft(y).ticks(null, "s"))
									.append("text")
									  .attr("x", 2)
									  .attr("y", y(y.ticks().pop()) + 0.5)
									  .attr("dy", "0.32em")
									  .attr("fill", "#000");

									// draw the legend
									var legend = g.append("g")
										.attr("font-family", "sans-serif")
										.attr("font-size", 12)
										.attr("text-anchor", "end")
										.selectAll("g")
										.data(keys.slice().reverse())
										.enter().append("g")
											.attr("transform", function(d, i) { return "translate(0," + i * 20 + ")"; });

									// add rectangles to the legend
									legend.append("rect")
									  .attr("x", width - 19)
									  .attr("width", 19)
									  .attr("height", 19)
									  .attr("fill", z);

									//add text to the legend
									legend.append("text")
									  .attr("x", width - 24)
									  .attr("y", 9.5)
									  .attr("dy", "0.32em")
									  .text(function(d) { return d; });
									});
								</script>								
							</div>
						</div>	
					
						<!-- Map -->
						<div class="figure">
					
							<!-- Map div -->
							<div id="map" class="map"></div>

							<!-- Map Script -->
							<script>

								//  CartoDB Positron basemap
								var cartodb = L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://cartodb.com/attributions">CartoDB</a>. &copy; 2017 the <a href="#">Belfast Mobility Project</a> | Design by <a href="http://lunegeographic.co.uk">Lune Geographic</a>.'});

								// Overlay layers (TMS)
								var lyr = L.tileLayer('./gisdata/tiles/gps/{z}/{x}/{y}.png', {tms: true, opacity: 0.7, attribution: ""});

								// Map
								var map = L.map('map', {
									center: [54.6290536706, -5.95682733166],
									zoom: 17,
									minZoom: 13,
									maxZoom: 17,
									layers: [cartodb],
									sleepTime: 750,		// time(ms) until map sleeps on mouseout
									wakeTime: 1500,		// time(ms) until map wakes on mouseover
								});

								//add the layer
								lyr.addTo(map);

								// Fit to overlay bounds (SW and NE points with (lat, lon))
								map.fitBounds([[54.5984808619, -5.9115522413], [54.6596264794, -6.00210242203]]);
						
							</script>
							<p class="caption">GPS Tracks of 196 participants by commmunity affiliation. <a target='_blank' href="./maps/gps.html">Click to View Map Full Screen</a></p>
						</div>
					
						<div class="row 200%">
							<div class="6u 12u$(medium)">
								<div class="figure">
									<span class="image fit"><img src="./images/t-communities.png" alt="Examples of T-Communities in North Belfast" />
									<p class="caption">Examples of T-Communities in North Belfast</p></span>
								</div>
							</div>
							<div class="6u$ 12u$(medium)">
								<p>Two further aspects of the patterning of activity-space segregation in North Belfast are worth noting. Firstly, to a large extent, it is maintained by residents’ movements through, and use of, tertiary street networks or ‘T-Communities’ (Grannis, 1998). Such networks form systems of social and spatial (dis)connection between neighbours, enabling segregation to emerge even in contexts where different communities live in close proximity to one another. Grannis (1998) has labelled such networks ‘T-communities’.</p>
							</div>
						</div>
					
						<div class="row 200%">
							<div class="6u 12u$(medium)">
								<p>Second, activity-space segregation marked social relations even in ‘public’ spaces that would ordinarily be sites of urban mixing. For example, parks are typically conceived as quintessentially open and inclusive facilities designed for members of all communities to enjoy freely. However, our walking interview data suggests that the use of parks in North Belfast is often organised along sectarian lines, with residents using different access points and sometimes avoiding completely areas associated with the ‘other’ community. At this point in North Belfast’s history, we would describe areas such as parks as ‘liminal spaces’ – they are simultaneously public, open spaces and sectarian and divided spaces. In their everyday lives, local residents must negotiate this ‘in betweenness’ as they engage in such ordinary activities as walking their dogs or taking their kids to the play areas.</p>
								<p>A 3.5-metre high peace wall was erected in 1994 to divide Alexandra Park – a Victorian park located in North Belfast – into Protestant and Catholic areas; however, in 2011, the photographed gate linking the two communities was installed, signifying an opening up of the space.</p>
							</div>
							<div class="6u$ 12u$(medium)">
								<div class="figure">
									<span class="image fit"><img src="./images/alexandrapark.jpg" alt="Alexandra Park Peace Wall" />
									<p class="caption">The Gate in the Alexandra Park Peace Wall</p></span>
								</div>
							</div>
						</div>
					</section>
					
					<section id="narrated-landscapes">
						<h2>Narrated Landscapes</h2>
			
						<div class="row 200%">
							<div class="6u 12u$(medium)">
								<div class="figure">
									<span class="image fit"><img src="./images/pavement.png" alt="Painted Paving Stones" />
									<p class="caption">...</p></span>
								</div>
							</div>
							<div class="6u$ 12u$(medium)">
								<p>Thirty-three residents of North Belfast participated in walking interviews as part of the Belfast Mobility Project. During these walks, which usually lasted between 45 minutes and two hours, participants were asked to imagine they were tour guides, taking the researchers on a typical journey through their local area to discuss the impact of community divisions and the associated symbolic landscape on their perception and use of space.</p>
								<p>Here, two tracked walks demonstrate markedly different patterns of movement between a Catholic participant from Ardoyne and a Protestant participant from the adjacent Glenbryn neighborhood. Their respective perceptions of threat, shared space and communal identity differ in ways that help to sustain activity-space segregation. In the maps below, click on the numbered icons to hear the participants’ commentary about how features in the landscape and broader social dynamics impact their mobility choices.</p>
							</div>
						</div>
						
						
						<!-- Participant 37 -->
						<h3>Participant A</h3>
						
						<!-- Audio elements for the interview excerpts -->
						<audio id="37-1"><source src="audio/37/37.1.wav" type="audio/wav">Your browser does not support the audio element.</audio>
						<audio id="37-2"><source src="audio/37/37.2.wav" type="audio/wav"></audio>
						<audio id="37-3"><source src="audio/37/37.3.wav" type="audio/wav"></audio>
						<audio id="37-4"><source src="audio/37/37.4.wav" type="audio/wav"></audio>
						<audio id="37-5"><source src="audio/37/37.5.wav" type="audio/wav"></audio>
						<audio id="37-6"><source src="audio/37/37.6.wav" type="audio/wav"></audio>
						<audio id="37-7"><source src="audio/37/37.7.wav" type="audio/wav"></audio>
						<audio id="37-8"><source src="audio/37/37.8.wav" type="audio/wav"></audio>
											
						<div class="row 200%">
							<div class="6u 12u$(medium)">
						
								<!-- Map div -->
								<div id="map2" class="map"></div>

								<!-- Code to run the map and animation -->
								<script>
								
									//flag for whether animation is already running or not
									var running = true;
									
									//create a custom control object 
									var customControl =  L.Control.extend({
										options: { position: 'topright' },
										onAdd: function (m) {	//construct the button
											var container = L.DomUtil.create('div', 'leaflet-bar leaflet-control leaflet-control-custom');
												container.style.backgroundColor = 'white';     
												container.innerHTML = "Click to Re-Run Animation";
												container.style.padding = "5px";
												container.style.color = "black";
												container.style.cursor = "pointer";
												container.onmouseover = function(){
											    	container.style.backgroundColor = '#eee'; 
												}
												container.onmouseout = function(){
												  container.style.backgroundColor = 'white'; 
												}
												container.onclick = function(){
													
													// only if not already running!
													if(!running){
													
														//reset counter
														imgCounter = 0;
													
														//run the animation
														snake();
													} else { alert("rejected!")};
												}
											
											//prevent clicks from being propagated to the map
											L.DomEvent.disableClickPropagation(container);
											
											return container;
										}
									});
								
									//list of images, captions and initialise counter to go with them
									var images37 = ["1TwaddellRoundabout.jpg", "2CommunityMural.jpg", "3EvertonComplex.jpg", "4AllianceAveSecurityCamera.jpg", "5EntrancetoGlenbryn.jpg", "6KATPostBox.jpg", "7aVirginMaryMural.jpg", "8aArdileaCloseMemorialGarden.jpg", "8BArdileaCloseMural.jpg"];
									var captions37 = ["The Twaddell Roundabout", "A Community Mural", "The Everton Complex", "A Security Camera on Alliance Avenue", "The Entrance to Glenbryn", "Sectarian Graffiti on a PostBox", "A Virgin Mary Mural", "The Ardilea Close Memorial Garden", "The Ardilea Close Mural"];
									var imgCounter = 0;

									var route = L.featureGroup([
										L.polyline(lnglat2latlng([[-5.96339,54.614387],[-5.9633899,54.6143869],[-5.9633833,54.6143811],[-5.963414,54.6144283],[-5.9634352,54.6144384],[-5.9634418,54.6144521],[-5.9634419,54.6144542],[-5.963442,54.6144543],[-5.9634403,54.6144526],[-5.9634441,54.6144561],[-5.9634446,54.6144565],[-5.9634454,54.6144588],[-5.9634455,54.6144586],[-5.9634457,54.6144598],[-5.9634462,54.6144601],[-5.9634142,54.6144057],[-5.9634481,54.6143719],[-5.9634591,54.614379],[-5.963437,54.6143962],[-5.9634297,54.614423],[-5.963417,54.614433],[-5.9634116,54.6144474],[-5.963448,54.614458],[-5.963645,54.6144403],[-5.9638495,54.6144128],[-5.9640116,54.614331],[-5.9641305,54.6143035],[-5.964154,54.6142321],[-5.9640337,54.6141421],[-5.9636039,54.6139948],[-5.9635456,54.6139116],[-5.9635678,54.6137872],[-5.9637293,54.6136066],[-5.9641291,54.6135184],[-5.9643163,54.6135443],[-5.9645108,54.6136412],[-5.9646524,54.6136536],[-5.9647036,54.6137361],[-5.9648405,54.6137215],[-5.9649428,54.6137406],[-5.9650337,54.6138012],[-5.9650966,54.6138105],[-5.9650971,54.6138576],[-5.9651843,54.6139072],[-5.9652113,54.6139938],[-5.9654574,54.6141011],[-5.9657206,54.6143847],[-5.9656896,54.6144299],[-5.965867,54.6145217],[-5.9659753,54.6146198],[-5.9660238,54.6147152],[-5.9661012,54.614761],[-5.966031,54.6149355],[-5.9660623,54.6150311],[-5.9660049,54.6150902]])
											),//, {snakingPause: 92 * 1000, color: 'red', weight: 3, opacity: 0.6}),
										L.polyline(lnglat2latlng([[-5.9660017,54.6151075],[-5.9660295,54.6151501],[-5.9658741,54.6151838],[-5.965865,54.6151536],[-5.9659409,54.6150901],[-5.9662483,54.6151558],[-5.9664872,54.6155673]])
											),//, {snakingPause: 87 * 1000, color: 'red', weight: 3, opacity: 0.6}),
										L.polyline(lnglat2latlng([[-5.9664569,54.6156218],[-5.9664766,54.6156852],[-5.9667954,54.6160482],[-5.9667486,54.6160765],[-5.9667339,54.6161425],[-5.9668787,54.616421],[-5.9670318,54.6168908],[-5.967055,54.617042],[-5.967008,54.6172328],[-5.9670903,54.6173833]])
											),//, {snakingPause: 111 * 1000, color: 'red', weight: 3, opacity: 0.6}),
										L.polyline(lnglat2latlng([[-5.967114,54.6174064],[-5.9671498,54.6174436],[-5.9671466,54.6176089]])
											),//, {snakingPause: 135 * 1000, color: 'red', weight: 3, opacity: 0.6}),
										L.polyline(lnglat2latlng([[-5.967168,54.6176617],[-5.9672134,54.6178213],[-5.9672979,54.617886],[-5.9672958,54.618067],[-5.9674354,54.6183673],[-5.9674045,54.6184046],[-5.9675049,54.6186597]])
											),//, {snakingPause: 54 * 1000, color: 'red', weight: 3, opacity: 0.6}),
										L.polyline(lnglat2latlng([[-5.9675114,54.6186969],[-5.9676199,54.6189477],[-5.9676393,54.6192338],[-5.9678129,54.6196556],[-5.9678962,54.6196879],[-5.9678589,54.6197243],[-5.967805,54.6197094],[-5.9675957,54.6191874],[-5.9675026,54.6188019],[-5.967426,54.6187016],[-5.9673161,54.6183139],[-5.967185,54.6180249],[-5.9671704,54.6178561],[-5.9670318,54.6174292],[-5.9668866,54.6174101],[-5.9665719,54.6174448],[-5.9642676,54.6178748],[-5.9640243,54.6179496],[-5.9628976,54.6181017],[-5.9627386,54.6180379],[-5.9627429,54.6180006],[-5.9627478,54.6179712],[-5.9627521,54.6179554],[-5.9627477,54.6179541],[-5.9627703,54.6179558],[-5.9627496,54.6179656],[-5.9627421,54.6179711],[-5.9627306,54.617976],[-5.9627215,54.6179821],[-5.9627095,54.6180167],[-5.9627324,54.6180191],[-5.9627606,54.6179823],[-5.9627937,54.617938],[-5.9628141,54.617898],[-5.9628114,54.6178896],[-5.9628232,54.6179207],[-5.962805,54.617916],[-5.9628031,54.6179037],[-5.9628041,54.6179033],[-5.9628032,54.6178925],[-5.962699,54.617946],[-5.9626744,54.6179246],[-5.9625924,54.6177271],[-5.9624221,54.6175211],[-5.9624138,54.6174841],[-5.9624304,54.617485],[-5.9624195,54.6174804],[-5.9624377,54.6174629],[-5.9624446,54.6174558],[-5.9624442,54.6174569],[-5.9624405,54.6174561],[-5.9624268,54.6174593],[-5.9624307,54.6174552],[-5.9624497,54.6174594],[-5.9624571,54.6174598],[-5.962451,54.6174773],[-5.9624094,54.6174802],[-5.9623636,54.6174701],[-5.9623268,54.6173154],[-5.9621555,54.6170607],[-5.9621039,54.617001],[-5.9620508,54.6170121],[-5.961963,54.6168977],[-5.9619159,54.6168819],[-5.9618935,54.6167867],[-5.9619231,54.6167482],[-5.9618545,54.6166916],[-5.9619009,54.6166415],[-5.9616414,54.6163968]])
											),//, {snakingPause: 10 * 1000, color: 'red', weight: 3, opacity: 0.6}),
										L.polyline(lnglat2latlng([[-5.9616122,54.6163385],[-5.9614199,54.615992]])
											),//, {snakingPause: 117 * 1000, color: 'red', weight: 3, opacity: 0.6}),
										L.polyline(lnglat2latlng([[-5.9614096,54.6159729],[-5.9612714,54.6159368],[-5.9612871,54.6158739],[-5.9611983,54.6157185],[-5.9611604,54.6155558],[-5.9607982,54.6150844],[-5.9607049,54.615046],[-5.9607231,54.6149883],[-5.9607003,54.6149811],[-5.9607026,54.6149643],[-5.9606939,54.6149633],[-5.9606879,54.6149621],[-5.9606874,54.6149636],[-5.9606928,54.6149649],[-5.9606987,54.6149583],[-5.960693,54.6149526],[-5.9606836,54.6149544],[-5.9606764,54.6149481],[-5.9606691,54.6149457],[-5.9606632,54.6149463],[-5.9606784,54.6149428],[-5.9606847,54.6149351],[-5.9606779,54.6149359],[-5.960663,54.6149383],[-5.9606655,54.6149447],[-5.9606635,54.6149524],[-5.9606722,54.6149558],[-5.960621,54.6149514],[-5.9606091,54.61492],[-5.9606289,54.6148968],[-5.9606281,54.6148986],[-5.9606455,54.6148885],[-5.9606561,54.6148895],[-5.9606646,54.6148882],[-5.9606604,54.6148924],[-5.9606648,54.6148873],[-5.9606774,54.6148846],[-5.9606785,54.6148877],[-5.9606527,54.6148847],[-5.9606525,54.6148825],[-5.9606408,54.6148793],[-5.9606209,54.6148759],[-5.9606202,54.6148754],[-5.9606097,54.614876],[-5.9606016,54.6148676],[-5.9605796,54.6148736],[-5.9605877,54.6148782],[-5.9605861,54.6148888],[-5.9605883,54.6148946],[-5.9605905,54.6148979],[-5.9605989,54.6148947],[-5.9605919,54.6149007],[-5.9605926,54.6148981],[-5.9605941,54.6148957],[-5.9605928,54.6148864],[-5.9605991,54.6148854],[-5.9605821,54.6148901],[-5.9605695,54.6148943],[-5.9605631,54.6148928],[-5.9605773,54.614905],[-5.9605815,54.6148959],[-5.9605765,54.6148935],[-5.9605763,54.6148816],[-5.9605441,54.6148385],[-5.9605351,54.6148172],[-5.9605267,54.6148153],[-5.9605239,54.6147952],[-5.9605354,54.6148066],[-5.9605456,54.6148058],[-5.9605456,54.6148062],[-5.9605783,54.6148081],[-5.9605671,54.6147901],[-5.960568,54.6147986],[-5.9605594,54.6147999],[-5.960556,54.6148066],[-5.9605487,54.6148103],[-5.9605438,54.6148269],[-5.9605587,54.6148362],[-5.9605475,54.614829],[-5.9605522,54.6148067],[-5.9605423,54.6148031],[-5.9605592,54.6147883],[-5.9605273,54.6147718],[-5.9604964,54.6146622],[-5.9603808,54.6145898],[-5.9604204,54.6145658],[-5.9603276,54.6144688],[-5.9603174,54.6143816],[-5.9602401,54.6143771],[-5.9601786,54.6141947],[-5.9600179,54.6140041],[-5.9599216,54.6136669],[-5.9598346,54.6135194],[-5.9600544,54.6132257],[-5.9599985,54.6131927],[-5.9599875,54.6131542],[-5.9599749,54.6131349],[-5.9599887,54.6130967],[-5.9600273,54.6131003],[-5.960013,54.6130672],[-5.9600325,54.6130933],[-5.9600356,54.6130927],[-5.960036,54.613093],[-5.9600495,54.6130918],[-5.9600529,54.6130831],[-5.9600665,54.6130918],[-5.9601032,54.6130997],[-5.9601239,54.6131014],[-5.9601563,54.6131099],[-5.9601556,54.6131222],[-5.9600872,54.6130968],[-5.9600721,54.6130799],[-5.9600657,54.6130766],[-5.9600631,54.6130681],[-5.9600646,54.6130708],[-5.9600535,54.6130694],[-5.9600493,54.6130618],[-5.9600494,54.6130682],[-5.960057,54.6130709],[-5.9600665,54.6130703],[-5.9600614,54.6130547],[-5.9600631,54.6130696],[-5.9600533,54.613083],[-5.9600413,54.613094],[-5.9600467,54.6131072],[-5.9600247,54.6131205],[-5.9600202,54.6131534],[-5.9599955,54.6131856],[-5.9599327,54.6132739],[-5.9598496,54.6133461],[-5.9598554,54.61336],[-5.9598341,54.6133779],[-5.9594239,54.613487],[-5.9591399,54.6135001],[-5.958958,54.6135521],[-5.9589312,54.613585],[-5.9588461,54.6135611],[-5.9587533,54.6135731],[-5.9586896,54.6136355],[-5.9583894,54.6137031],[-5.9583161,54.6137046],[-5.9582993,54.6136774],[-5.9579251,54.613795],[-5.9578716,54.6138351],[-5.9576073,54.6138591],[-5.9575044,54.6138989],[-5.9573762,54.6139097],[-5.9573175,54.6139561],[-5.9571585,54.6139981],[-5.956976,54.6139527],[-5.9568526,54.6139667],[-5.9567727,54.6140161],[-5.9567447,54.6140017],[-5.9566952,54.6141124],[-5.9567886,54.6141254],[-5.9568186,54.6141601],[-5.9567329,54.6142426],[-5.9568009,54.6143543],[-5.9566781,54.6144476],[-5.9567318,54.6145014],[-5.956603,54.614557],[-5.9566425,54.6145751],[-5.9566064,54.6145851],[-5.9566679,54.6147921],[-5.9566035,54.6149171],[-5.9565233,54.6149112],[-5.9564241,54.6149552],[-5.9562768,54.6149256],[-5.9562086,54.6149471],[-5.956038,54.6148846],[-5.955945,54.614936],[-5.955949,54.6149423],[-5.9559395,54.6149497],[-5.9557038,54.6149929],[-5.9554823,54.6149253],[-5.9553155,54.6149157],[-5.9553017,54.6149013],[-5.95529,54.6148928],[-5.9552727,54.6148916],[-5.9552904,54.6148768],[-5.9552997,54.6148749],[-5.9553127,54.6148756],[-5.9553197,54.6148733],[-5.9553034,54.6148509],[-5.9553016,54.614852],[-5.9552911,54.6148823],[-5.9552925,54.6148941],[-5.9552858,54.6148863],[-5.9552883,54.6148911],[-5.9552966,54.6148948],[-5.955312,54.6148892],[-5.9553042,54.6148938],[-5.9552825,54.6148968],[-5.9552188,54.61491],[-5.955151,54.6149098],[-5.9551345,54.6149168],[-5.9551068,54.6149223],[-5.9551058,54.6149291],[-5.9550235,54.6149267],[-5.9550014,54.6148943],[-5.9546088,54.614937],[-5.9544251,54.6149902],[-5.9542992,54.6149749],[-5.9542838,54.6149905],[-5.954229,54.6149564],[-5.9539847,54.6150239],[-5.9536012,54.615086],[-5.9534815,54.6151441],[-5.9532692,54.6151844],[-5.9531814,54.6151774],[-5.9528702,54.6152951],[-5.9523639,54.6154143],[-5.9516832,54.6156587],[-5.9512653,54.6158512],[-5.9512241,54.6158411],[-5.9512097,54.6158219],[-5.9512037,54.6158219],[-5.9511371,54.6158246],[-5.9508963,54.6157251],[-5.9507182,54.6155473],[-5.950633,54.6155418],[-5.9505713,54.615492],[-5.9504773,54.6153245],[-5.9505114,54.615266],[-5.9505618,54.6152332],[-5.9506128,54.6152084],[-5.9506764,54.615172],[-5.9507203,54.6151445],[-5.9507808,54.6151277],[-5.950778,54.6151195],[-5.9507875,54.6151194],[-5.9508104,54.6151253],[-5.9508099,54.6151227],[-5.9507919,54.615116],[-5.950822,54.6151257],[-5.9508622,54.6151403],[-5.9509093,54.6151521],[-5.9510115,54.6152185],[-5.9510341,54.6151967],[-5.9510139,54.6151867],[-5.9510052,54.6151814],[-5.9510035,54.6151817],[-5.9510215,54.6151842]])
											),//, {snakingPause: 106 * 1000, color: 'red', weight: 3, opacity: 0.6}),
										L.polyline(lnglat2latlng([[-5.9510322,54.6151872],[-5.9510327,54.6151918],[-5.9510106,54.6151888],[-5.9509966,54.6151804],[-5.9509509,54.615092],[-5.9508663,54.6150751],[-5.9508348,54.6151022],[-5.9508063,54.6151158],[-5.9507837,54.6151324],[-5.9507491,54.6151548],[-5.9507477,54.6151613],[-5.9506775,54.6151949],[-5.9506246,54.615208],[-5.9505783,54.6151994],[-5.9505146,54.6152302],[-5.9505196,54.6152444],[-5.950514,54.615269],[-5.9511016,54.6156468],[-5.9510989,54.6156928],[-5.9511538,54.6157401],[-5.9511945,54.6157951],[-5.9512025,54.6158124],[-5.9512351,54.6158587],[-5.9516029,54.6161135],[-5.9516186,54.6161864],[-5.9517349,54.616301],[-5.9518069,54.6163374],[-5.9523196,54.6164368],[-5.9525592,54.6165132],[-5.952688,54.6165107],[-5.9531411,54.616342],[-5.9533602,54.616303],[-5.9534494,54.6162392],[-5.9538857,54.6160569],[-5.953936,54.6160471],[-5.954036,54.6160879],[-5.9541563,54.6160707],[-5.9541848,54.6159048],[-5.9542773,54.6159287],[-5.9543821,54.6160589],[-5.9545188,54.6161401],[-5.9546108,54.6162647],[-5.954585,54.6163041],[-5.954659,54.6162623],[-5.9547939,54.6162526],[-5.9548123,54.6163049],[-5.9547312,54.6159303],[-5.954614,54.6157084],[-5.9545032,54.6152412],[-5.9545447,54.6150616],[-5.9545898,54.6150238],[-5.9548016,54.6149599],[-5.9550034,54.6149469],[-5.9550484,54.6149283],[-5.955179,54.6149142],[-5.9552055,54.6149094],[-5.9552828,54.6148951],[-5.9553766,54.6149018],[-5.9554762,54.6149203],[-5.9555953,54.6149325],[-5.9556181,54.6149282],[-5.955666,54.6149395],[-5.9558023,54.6149524],[-5.9558673,54.6149507],[-5.9559383,54.6149412],[-5.9560044,54.6149351],[-5.9563588,54.6149617],[-5.9564744,54.614994],[-5.9565138,54.6150623],[-5.956517,54.615331],[-5.9565641,54.6154],[-5.9568313,54.6154361],[-5.9568633,54.6154149],[-5.9568831,54.6154576],[-5.9569561,54.6154645],[-5.9570966,54.6154487],[-5.9571865,54.6153979],[-5.9573715,54.6153787],[-5.9576617,54.6152971],[-5.957815,54.6152922],[-5.9580167,54.615233],[-5.9587162,54.6151177],[-5.9603832,54.614769],[-5.9604393,54.6147826],[-5.9605031,54.6148163],[-5.9605497,54.61484],[-5.9605979,54.6148397],[-5.9606334,54.6148772],[-5.9606457,54.6148952],[-5.9606832,54.6149466],[-5.9607305,54.614988],[-5.9607845,54.6150631],[-5.9609978,54.615082],[-5.961782,54.6149289],[-5.9623039,54.6147924],[-5.9624425,54.6147898],[-5.9631777,54.6145673],[-5.9634757,54.6145283],[-5.9634251,54.6144957],[-5.9634657,54.6145252]])
											)//, {snakingPause: 200, color: 'red', weight: 3, opacity: 0.6}),
									]); 

									//make a map
									var map2 = L.map('map2');
									
									//add button
									map2.addControl(new customControl());

									// get a tile layer
									L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://cartodb.com/attributions">CartoDB</a>. &copy; 2017 the <a href="#">Belfast Mobility Project</a> | Design by <a href="http://lunegeographic.co.uk">Lune Geographic</a> and <a href="http://templated.co" rel="nofollow">Templated</a>.'}).addTo(map2);

									// zoom to the route
									map2.fitBounds(route.getBounds());

									// add the route
									map2.addLayer(route);
				
									//run the animation
									snake();
								
									// listener - every snake event show the next image and caption
									route.on('snakestart snake snakeend', function(ev){
//  									console.log(ev.type);
										
										// switch the flag
										if (ev.type === 'snakestart') {
											running = true;
										} else if (ev.type === 'snakeend') {
											running = false;
										}
										
										// move the picture, caption and audio file on
										if (ev.type === 'snakestart' || ev.type === 'snake') {
											// log the next image and caption into the panel
											document.getElementById("route37panel").src = "images/37/" + images37[imgCounter];
											document.getElementById("route37caption").innerHTML = captions37[imgCounter++];
// 											console.log("playing: " + ["31","-",(imgCounter+1).toString()].join(""))
// 											document.getElementById(["31","-",(imgCounter+1).toString()].join("")).play();
										}
									});
									
									/**
									 * convenience function to run the animation
									 */
									function snake() {
										route.snakeIn();
									}
									
									/**
									 * convert LngLat array to LatLng
									 */
									function lnglat2latlng(lnglats) {
										for (var i = 0, latlngs = [], len = lnglats.length; i < len; i++) {
											latlngs.push(new L.LatLng(lnglats[i][1], lnglats[i][0]));
										}
										return latlngs
									}
								</script>
							</div>
							
							<div class="6u 12u$(medium)">
								<span class="image fit"><img id="route37panel" src= alt="" />
								<p id="route37caption" class="caption"></p></span>
<!-- 
								<script>
									// load the first image and caption into the panel
									document.getElementById("route37panel").src = "images/37/" + images37[imgCounter];
									document.getElementById("route37caption").innerHTML = captions37[imgCounter++];
								</script>
 -->
							</div>
						</div>
					</section>			
			
					<section  id="shared-landscapes">
						<h2>Shared Landscapes</h2>
					</section>
					
				</div>
			</section>

			<!-- Footer -->
			<footer id="footer">
				<div class="inner">

					<div class="copyright">
						&copy; 2017 the <a href="#">Belfast Mobility Project</a> | Design by <a href="http://lunegeographic.co.uk">Lune Geographic</a> and <a href="http://templated.co" rel="nofollow">Templated</a> <br/> The code for this website is available at <a href="https://github.com/jonnyhuck/bmp-website">GitHub</a>.
					</div>

				</div>
			</footer>

			<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
	</body>
</html>
